@{
  Layout = "~/Views/Shared/_LayoutStudentApp.cshtml";
}
    <div class="container-fluid">
        <div class="row page-titles">

        </div>
        <!-- row -->
        <div class="row">
            <div class="col-xl-12">
                <div class="welcome-card rounded ps-5 pt-5 pb-4 mt-3 position-relative mb-5">
                    <h4 class="text-warning">Hola @ViewBag.NameUser</h4>
                    <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dumm.</p>
                   
                    
                    <img src="~/Content/img/welcom-card.svg" alt="" class="position-absolute">
                </div>
            </div>
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title" style="text-transform: unset">Datos de mi proyecto</h4>
                    </div>

                    <div class="card-body">
                        @if (ViewBag.proyecto.id == 0)
                        {
                            <p class="mb-1">Sin proyecto asignado</p>
                        }
                        else
                        {


                            <div class="row">
                                <div class="col-xl-6 col-xxl-6 col-lg-6 col-sm-6">
                                    <div class="widget-stat card">
                                        <div class="card-body p-4">
                                            <div class="media ai-icon">
                                                <span class="me-3 bgl-warning text-warning">
                                                    <svg id="icon-orders" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
                                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                                        <polyline points="14 2 14 8 20 8"></polyline>
                                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                                        <polyline points="10 9 9 9 8 9"></polyline>
                                                    </svg>
                                                </span>

                                                <div class="media-body">
                                                    <p class="mb-1">Nombre del Proyecto</p>
                                                    <h4 class="mb-0">@ViewBag.proyecto.nombre</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-6 col-xxl-6 col-lg-6 col-sm-6">
                                    <div class="widget-stat card">
                                        <div class="card-body p-4">
                                            <div class="media ai-icon">
                                                <span class="me-3 bgl-warning text-warning">

                                                    <i class="la la-users"></i>

                                                </span>
                                                <div class="media-body">
                                                    <p class="mb-1">Departamento</p>
                                                    <h4 class="mb-0">@ViewBag.proyecto.departamento.Descripcion</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-12 col-xxl-12 col-lg-12 col-sm-12">
                                    <div class="widget-stat card">
                                        <div class="card-body p-4">
                                            <div class="media ai-icon">
                                                <span class="me-3 bgl-warning text-warning">

                                                    <i class="la la-users"></i>

                                                </span>
                                                <div class="media-body">
                                                    <p class="mb-1">Descripción</p>
                                                    <h4 class="mb-0">@ViewBag.proyecto.descripcion</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>



                                <div class="col-xl-6 col-xxl-6">
                                    <div class="card">
                                        <div class="card-header d-block">
                                            <h4 class="card-title">habilidades</h4>

                                        </div>
                                        <div class="card-body">

                                            @foreach (var item in @ViewBag.proyecto.listHabilidades)
                                            {
                                                <div class="alert alert-success solid alert-rounded ">@item.Descripcion</div>

                                            }

                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-6 col-xxl-6">
                                    <div class="card">
                                        <div class="card-header d-block">
                                            <h4 class="card-title">áreas de interés</h4>

                                        </div>
                                        <div class="card-body">

                                            @foreach (var item in @ViewBag.proyecto.listAreaInteres)
                                            {

                                                <div class="alert alert-info solid alert-square ">@item.Descripcion</div>

                                            }


                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                        <div class="row">
                            <div class="col-xl-12 col-xxl-12 col-lg-12 col-sm-12">
                                <div class="widget-stat card">
                                    <div class="card-body p-4">
                                        <div class="media ai-icon">
                                            <span class="me-3 bgl-primary text-primary">
                                                <!-- <i class="ti-user"></i> -->
                                                <svg id="icon-customers" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user">
                                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                                    <circle cx="12" cy="7" r="4"></circle>
                                                </svg>
                                            </span>
                                            @if (ViewBag.formador.Id.Equals("000000"))
                                            {
                                                <p class="mb-1">Sin Formador</p>
                                            }
                                            else
                                            {


                                                <div class="media-body">
                                                    <p class="mb-1">Datos del Formador</p>
                                                    <div class="profile-details">
                                                        <div class="profile-name px-3 pt-2">
                                                            <h4 class="text-primary mb-0">@ViewBag.formador.Nombre</h4>
                                                            <p>@ViewBag.formador.Departamento/ @ViewBag.formador.Vicerreptoria</p>
                                                        </div>
                                                        <div class="profile-email px-2 pt-2">
                                                            <h4 class="text-muted mb-0">@ViewBag.formador.Email</h4>
                                                            <p>@ViewBag.formador.Direccion</p>
                                                        </div>

                                                    </div>
                                                </div>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
<script>



   function buscarAreaInteres(id) {



                    $.post("@Url.Action("ConsultarAreaInteres","Intereses")", { id: id}, function (datas) {

                        if (datas.Id == null) {
                            alert("El Registro No Existe")

                        }  else {
                            clearRegister();

                            $("#id").val(datas.Id);
                            $("#descripcion").val(datas.Descripcion);
                        }

                        });
    };

      function guardarRegister() {
        let description = $('#descripcion').val();
        if (!description || description === "") {
            return;
        }
        var habilidad = JSON.stringify(
        {
               'Id': $('#id').val(),
               'Descripcion': $('#descripcion').val()
        });
          $.ajax({
              url: '/Intereses/SaveAreaInteres',
              type: "post",
              contentType: "application/json",
              dataType: "json",
              traditional: true,
              data: habilidad,
              success: function (results) {
                  alert(results);
                   window.location.href = '/Intereses';
              }
          })


    };

   function eliminarAreaInteres(id) {



                    $.post("@Url.Action("EliminarAreaInteres","Intereses")", { id: id}, function (datas) {

                        alert(datas);


                         window.location.href = '/Intereses';


                        });
    };


    function clearRegister() {
        $("#id").val("");
        $("#descripcion").val("");
    }

</script>